<div class="container">
  <h2 class="my-4">{{ data.course.name }} ({{ data.course.code }})</h2>

  <h3 class="my-4">About this course:</h3>

  <p class="my-3">{{ data.course.description }}</p>

  <div class="row">
    <div class="col-md-6">
      <div class="form-group">
        <label for="studentSelect">Select a Student:</label>
        <select
          class="form-select form-control my-3"
          id="studentSelect"
          [(ngModel)]="selectedStudentId"
        >
          <option value="">Select a student</option>
          <option *ngFor="let student of students" [value]="student.id">
            {{ student.full_name }}
          </option>
        </select>
        <button class="btn btn-primary mx-auto" (click)="enrollStudent()">
          Enroll to this course
        </button>
      </div>
    </div>
  </div>
</div>

<div class="container py-4">
  <!-- Student Table -->
  <div class="table-responsive">
    <table class="table table-bordered table-striped">
      <thead class="thead-dark">
        <tr>
          <th>Full Name</th>
          <th>Student Code</th>
          <th *ngFor="let gradeItem of data.course.grade_items">
            {{ gradeItem.name }}
            <br />
            (Max: {{ gradeItem.max_degree }})
          </th>
          <th>Total</th>
          <th class="text-center">Action</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let student of data.students; let i = index">
          <td class="p-3">{{ student.full_name }}</td>
          <td class="p-3">{{ student.student_code }}</td>
          <td class="p-3">{{ student["0"] }}</td>
          <td class="p-3">{{ student["1"] }}</td>
          <td class="p-3">{{ student["2"] }}</td>
          <td class="p-3">{{ student["3"] }}</td>
          <td class="p-3">{{ student.Total }}</td>
          <td class="text-center p-3">
            <button
              class="btn btn-danger p-2 btn-sm mx-auto"
              (click)="removeFromCourse(student.id.id)"
            >
              Remove from course
            </button>
          </td>
        </tr>
      </tbody>
    </table>
  </div>
</div>
