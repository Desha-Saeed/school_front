<!-- student.component.html -->
<!-- student.component.html -->
<div class="container my-4">
  <div class="row">
    <!-- Search Input and Button -->
    <div class="col-md-6 col-lg-4 d-flex align-items-center">
      <div class="input-group">
        <input
          type="text"
          class="form-control mx-2"
          [(ngModel)]="searchText"
          placeholder="Search by code, name, email"
        />
        <button class="btn btn-primary" (click)="search()">Search</button>
      </div>
    </div>

    <!-- Filtering by Level Dropdown -->
    <div class="col-md-4 col-lg-3 mt-3 mt-md-0">
      <select
        class="form-select mx-4"
        [(ngModel)]="selectedLevel"
        (ngModelChange)="filter()"
      >
        <option value="">All Levels</option>
        <option *ngFor="let level of levels" [value]="level">
          {{ level }}
        </option>
      </select>
    </div>

    <!-- Add New Student Button -->
    <div class="col-12 col-md-2 col-lg-3 mt-3 mt-md-0 text-end">
      <button class="btn btn-primary text-end" [routerLink]="['/add-student']">
        Add New Student
      </button>
    </div>
  </div>
</div>

<!-- Student Table -->
<div class="table-responsive">
  <table class="table table-bordered table-striped">
    <thead class="thead-dark">
      <tr>
        <th>Full Name</th>
        <th>Code</th>
        <th>Date of Birth</th>
        <th>Email</th>
        <th>Level</th>
        <th class="text-center">Action</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let student of students">
        <td>{{ student.full_name }}</td>
        <td>{{ student.code }}</td>
        <td>{{ student.date_of_birth | date }}</td>
        <td>{{ student.email }}</td>
        <td>{{ student.level_id }}</td>
        <td class="text-center">
          <a
            class="btn btn-warning btn-sm mx-1"
            [routerLink]="['/update-student', student.id]"
          >
            Edit
          </a>
          <button
            class="btn btn-danger btn-sm mx-1"
            (click)="deleteStudent(student)"
          >
            Delete
          </button>
        </td>
      </tr>
    </tbody>
  </table>
</div>
